{{#if @iconOnly}}
  <EuiButtonIcon
    class={{class-names
      "euiSuperUpdateButton"
      @className
    }}
    @display={{if @fill "fill"}}
    @color={{if (or @needsUpdate @isLoading) "success" "primary"}}
    @iconType={{if (or @needsUpdate @isLoading) "kqlFunction" "refresh"}}
    @isDisabled={{@isDisabled}}
    @isLoading={{@isLoading}}
    @size={{@size}}
    {{style minWidth="0px"}}
    {{on "click" @onClick}}
    ...attributes
  />
{{else}}
  <EuiButton
    class={{class-names
      "euiSuperUpdateButton"
      @className
    }}
    @fill={{@fill}}
    @textClasses={{@textClasses}}
    @color={{if (or @needsUpdate @isLoading) "success" "primary"}}
    @iconType={{if (or @needsUpdate @isLoading) "kqlFunction" "refresh"}}
    @isDisabled={{@isDisabled}}
    @isLoading={{@isLoading}}
    @size={{@size}}
    {{on "click" @onClick}}
    ...attributes
  >
    {{#if (or @needsUpdate @isLoading)}}
      {{#if @isLoading}}
        Updating
      {{else}}
        Update
      {{/if}}
    {{else}}
      Refresh
    {{/if}}
  </EuiButton>
{{/if}}
