{{#let
  (arg-or-default @id (unique-id))
  (arg-or-default @titleElement "h3")
  as |groupID titleElement|
}}
  {{#let (concat groupID "__title") as |titleID|}}
    {{#if (and @isCollapsible (has-block "title"))}}
      <EuiAccordion
        id={{groupID}}
        class={{class-names
          (if (has-block "title") "euiCollapsibleNavGroup--withHeading")
          componentName="EuiCollapsibleNavGroup"
          backgroundColor=(arg-or-default @background "none")
        }}
        @buttonClassName="euiCollapsibleNavGroup__heading"
        @initialIsOpen={{arg-or-default @initialIsOpen true}}
        @arrowDisplay="right"
        ...attributes
      >
        <:buttonContent>
          <EuiFlexGroup
            @gutterSize="m"
            @alignItems="center"
            @responsive={{false}}
          >
            {{#if @iconType}}
              <EuiFlexItem @grow={{false}}>
                <EuiIcon
                  @type={{@iconType}}
                  @size={{arg-or-default @iconSize "l"}}
                />
              </EuiFlexItem>
            {{/if}}
            <EuiFlexItem>
              <EuiTitle
                id={{concat groupID "__title"}}
                @tagName={{arg-or-default @titleTagName "h3"}}
                @size={{arg-or-default @titleSize "xxs"}}
              >
                {{#if (not-eq titleElement "h3")}}
                  {{#let (element titleElement) as |TitleElement|}}
                    <TitleElement
                      id={{titleID}}
                      class="euiCollapsibleNavGroup__title"
                    >
                      {{yield to="title"}}
                    </TitleElement>
                  {{/let}}
                {{else}}
                  <h3 id={{titleID}} class="euiCollapsibleNavGroup__title">
                    {{yield to="title"}}
                  </h3>
                {{/if}}
              </EuiTitle>
            </EuiFlexItem>
          </EuiFlexGroup>
        </:buttonContent>
        <:content>
          {{#if (has-block "content")}}
            <div class="euiCollapsibleNavGroup__children">
              {{yield to="content"}}
            </div>
          {{/if}}
        </:content>
      </EuiAccordion>
    {{else}}
      <div
        id={{groupID}}
        class={{class-names
          (if (has-block "title") "euiCollapsibleNavGroup--withHeading")
          componentName="EuiCollapsibleNavGroup"
          backgroundColor=(arg-or-default @background "none")
        }}
        ...attributes
      >
        {{#if (has-block "title")}}
          <div class="euiCollapsibleNavGroup__heading">
            <EuiFlexGroup
              @gutterSize="m"
              @alignItems="center"
              @responsive={{false}}
            >
              {{#if @iconType}}
                <EuiFlexItem @grow={{false}}>
                  <EuiIcon
                    @type={{@iconType}}
                    @size={{arg-or-default @iconSize "l"}}
                  />
                </EuiFlexItem>
              {{/if}}
              <EuiFlexItem>
                <EuiTitle
                  id={{concat groupID "__title"}}
                  @tagName={{arg-or-default @titleTagName "h3"}}
                  @size={{arg-or-default @titleSize "xxs"}}
                >
                  {{#if (not-eq titleElement "h3")}}
                    {{#let (element titleElement) as |TitleElement|}}
                      <TitleElement
                        id={{titleID}}
                        class="euiCollapsibleNavGroup__title"
                      >
                        {{yield to="title"}}
                      </TitleElement>
                    {{/let}}
                  {{else}}
                    <h3 id={{titleID}} class="euiCollapsibleNavGroup__title">
                      {{yield to="title"}}
                    </h3>
                  {{/if}}
                </EuiTitle>
              </EuiFlexItem>
            </EuiFlexGroup>
          </div>
        {{/if}}
        {{#if (has-block "content")}}
          <div class="euiCollapsibleNavGroup__children">
            {{yield to="content"}}
          </div>
        {{/if}}
      </div>
    {{/if}}
  {{/let}}
{{/let}}