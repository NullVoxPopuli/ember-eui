{{! @glint-nocheck: not typesafe yet }}
{{#let (arg-or-default @color "primary") as |color|}}
  {{#if @href}}
    <a
      href={{@href}}
      class={{class-names
        (if @disabled "euiLink--disabled")
        componentName="EuiLink"
        color=(unless @disabled color)
      }}
      target={{@target}}
      disabled={{@disabled}}
      ...attributes
    >

      {{yield}}
      {{#if
        (or
          (and (eq @target "_blank") (not-eq @external false))
          (eq @external true)
        )
      }}
        <EuiIcon
          @type="popout"
          aria-label="External link"
          @size="s"
          class="euiLink__externalIcon"
        />
      {{/if}}
      {{#if (eq @target "_blank")}}
        <span {{screen-reader-only}}>
          (opens in a new tab or window)
        </span>
      {{/if}}
    </a>
  {{else}}
    <button
      type={{arg-or-default @type "button"}}
      class={{class-names
        (if @disabled "euiLink-disabled")
        componentName="EuiLink"
        color=(unless @disabled color)
      }}
      disabled={{@disabled}}
      ...attributes
    >
      {{yield}}
    </button>

  {{/if}}
{{/let}}