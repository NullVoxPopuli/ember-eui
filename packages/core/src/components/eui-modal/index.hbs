{{! @glint-nocheck: not typesafe yet }}
{{#let
  (if
    (and @maxWidth (not-eq @maxWidth true))
    (inline-styles
      componentName="EuiModal" componentArgs=(hash maxWidth=@maxWidth)
    )
    (hash)
  )
  as |inlineStyles|
}}
  <EuiOverlayMask
    @onClick={{if @clickOutsideToClose (optional @onClose) (noop)}}
  >
    <div
      class={{class-names
        "euiModal"
        (if (eq @maxWidth true) "euiModal--maxWidth-default")
      }}
      tabindex="0"
      ...attributes
      {{style inlineStyles}}
      {{focus-trap
        isActive=(arg-or-default @isFocusTrapActive true)
        shouldSelfFocus=(arg-or-default @shouldSelfFocus true)
        isPaused=(arg-or-default @isFocusTrapPaused false)
        focusTrapOptions=(arg-or-default @focusTrapOptions (hash))
      }}
      {{on-key "Escape" (prevent-default (stop-propagation (optional @onClose)))}}
    >
      <EuiButtonIcon
        class="euiModal__closeIcon"
        @iconType="cross"
        @color="text"
        {{on "click" (optional @onClose)}}
      />
      <div class="euiModal__flex">
        {{yield}}
      </div>
    </div>
  </EuiOverlayMask>
{{/let}}