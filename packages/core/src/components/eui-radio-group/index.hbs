{{! @glint-nocheck: not typesafe yet }}
{{#let
  (arg-or-default @valueKey "id")
  (arg-or-default @labelKey "label") as |valueKey labelKey|
}}
  {{#if @legend}}
    <EuiFormFieldset @legend={{@legend}} @compressed={{@compressed}}>
      {{#each @options key="id" as |option|}}
        <EuiRadio
          class={{concat "euiRadioGroup__item" option.className}}
          form={{@formId}}
          @checked={{eq @idSelected (get option valueKey)}}
          @disabled={{or @disabled option.disabled}}
          @compressed={{@compressed}}
          @label={{get option labelKey}}
          {{on "change" (fn @onChange (get option valueKey) option.value)}}
        />
      {{/each}}
    </EuiFormFieldset>
  {{else}}
    <div ...attributes>
      {{#each @options key="id" as |option|}}
        <EuiRadio
          class={{concat "euiRadioGroup__item" option.className}}
          form={{@formId}}
          @name={{@name}}
          @checked={{eq @idSelected (get option valueKey)}}
          @disabled={{or @disabled option.disabled}}
          @compressed={{@compressed}}
          @label={{get option labelKey}}
          {{on "change" (fn @onChange (get option valueKey) option.value)}}
        />
      {{/each}}
    </div>
  {{/if}}
{{/let}}