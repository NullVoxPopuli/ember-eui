{{#let
  (and (not (arg-or-default @isFakePrependBlock false)) (has-block "prepend"))
  (and (not (arg-or-default @isFakeAppendBlock false)) (has-block "append"))
  (arg-or-default @id (unique-id))
  as |hasPrepend hasAppend inputId|
}}
  <EuiFieldText
    aria-label={{@ariaLabel}}
    @icon={{if @icon @icon "calendar"}}
    @fullWidth={{@fullWidth}}
    @isLoading={{@isLoading}}
    @readOnly={{@readOnly}}
    @inputRef={{@inputRef}}
    @controlOnly={{@controlOnly}}
    @compressed={{@compressed}}
    @id={{inputId}}
    @clear={{if @clear (fn (optional @clear) null)}}
    @isFakePrependBlock={{hasPrepend}}
    @isFakeAppendBlock={{hasAppend}}
    @disabled={{@disabled}}
    @isInvalid={{@isInvalid}}
    ...attributes
    {{pikaday
      this.options
      value=this.value
      onSelect=this.onSelect
      setDefaultDate=true
      defaultDate=@defaultDate
      onOpen=this.onOpen
      onDraw=this.onDraw
      onClose=this.onClose
      format=this.format
      minDate=@minDate
      maxDate=@maxDate
      theme=@theme
      yearRange=this.yearRange
      i18n=this.i18n
      firstDay=this.firstDay
      container=@container
      bound=@bound
      register=this.registerPikaday
      moment=@moment
    }}
    {{on "change" this.didChange}}
    {{did-insert this.registerField}}
  >
    <:prepend as |classes|>
      {{yield classes to="prepend"}}
    </:prepend>
    <:append as |classes|>
      {{yield classes to="append"}}
    </:append>
  </EuiFieldText>
{{/let}}